name: Build Unity Game

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: macos-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v2

    - name: Set up Unity
      uses: game-ci/unity-actions/setup@v2
      with:
        version: 6000.0.34f1

    - name: Build for Windows
      run: |
        unity -quit -batchmode -nographics -logFile -projectPath $(pwd) -buildWindows64Player "$(pwd)/Build/Game.exe"